## The overview of whole structure
Decorator, MVC, Factory and Visitor design patterns are used for the project.
![image](https://github.com/comp0010/python-shell-p14/blob/master/doc/wholeStructure.jpg)
## The parser
### The parser tree
The parser tree are generated by ANTLR4 according to our grammar. The grammar file is **src/parserTree/Command.g4**

To visualise the tree, generate the java version files first:
`antlr4 -Dlanguage=Java -visitor -no-listener Command.g4`
Then, complie the java files:
`javac -g *.java`
Input the command to visualise in the file **command.txt**, then start the GUI:
`grun Command command -gui command.txt`

More about ANTLR4 can be found here:https://github.com/antlr/antlr4
### Visit the parser tree
**src/parserTreeVisitor.py** inplement the interface **src/parserTree/commandVisitor.py**

The tree accpets the *ParserTreeVisitor* class and returns one of the following classes: Pipe, Call, Seq.

## CommandStream
The CommandStream class is designed to package the essential parameters for constructing an application, such as *stdin,stdout,arguments...* It makes the data transfer in the MVC structure easier.
## Applications
We use the factory model for developing the applications. The *CommandStream* is passed to AppFactory, and then the factory returns an instance of the applications.
### globbing
Globbing is developed using decorator design pattern. It can be found in **src/apps/decorator.py** 
### unsafe 
The unsafe version of the applications is developed using decorator design pattern. It can be found in **src/apps/decorator.py** 
### wc
An extra feature, wc, is implemented for the shell. 
wc counts the number of lines, words and characters of given files and prints it to stdout:

    wc [OPTIONS] [FILE]

- `OPTIONS`:
    - `-l` prints the number of lines
    - `-w` prints the number of words
    - `-m` prints the number of characters
- `FILE`(s) is the name(s) of file(s) for word count. If no files are specified, uses stdin. 
